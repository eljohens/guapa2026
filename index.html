<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para Darcey ğŸ’™</title>

    <!-- Cinematic Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Great+Vibes&family=Lato:wght@300;400&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="styles.css">
    <script src="app.js" defer></script>
</head>

<body>

    <!-- Intro Experience -->
    <canvas id="ambient-canvas"></canvas> <!-- Global background -->
    <div id="intro-screen">
        <canvas id="intro-canvas"></canvas>
        <div class="intro-content">
            <h1 class="typing-text">para Darcey...</h1>
            <p class="subtitle">A little world we built ğŸ’™</p>
            <button id="start-btn" aria-label="Start Experience">Tap to start ğŸ’™</button>
        </div>
    </div>

    <!-- Main Experience Container -->
    <main id="main-container" class="hidden">

        <!-- Costa Rica Background (Fixed) -->
        <div id="costa-rica-bg">
            <svg class="mountain-svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
                <defs>
                    <linearGradient id="mtn-grad" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#1a233a;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#0a0e17;stop-opacity:1" />
                    </linearGradient>
                </defs>
                <path fill="url(#mtn-grad)" fill-opacity="1"
                    d="M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,224C672,245,768,267,864,250.7C960,235,1056,181,1152,160C1248,139,1344,149,1392,154.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z">
                </path>
                <!-- Volcano peak visualization -->
                <path fill="rgba(255,255,255,0.05)" d="M1000,320 L1152,160 L1300,320 Z"></path>
            </svg>
            <div class="smoke-effect"></div>
        </div>

        <!-- Audio Controls (Always Visible) -->
        <div id="audio-controls">
            <button id="mute-btn" class="icon-btn">
                <span id="sound-icon">ğŸ”ˆ</span>
            </button>
        </div>

        <audio id="bg-music" loop>
            <source src="song/Glance.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>

        <!-- Dynamic Chapter Container -->
        <div id="chapters-wrapper">
            <!-- Chapters will be injected here by JS -->
        </div>

        <!-- The Letter Trigger -->
        <section id="letter-section" class="chapter-section">
            <div class="content-wrapper text-center">
                <p class="lyric-excerpt">"And in a glance, everything changed..."</p>
                <button id="open-letter-btn" class="primary-btn">Open the letter âœ‰ï¸</button>
            </div>
        </section>

    </main>

    <!-- Letter Modal -->
    <div id="letter-modal" class="modal hidden">
        <div class="modal-content parchment-bg">
            <span class="close-modal">&times;</span>
            <div class="letter-text">
                <p>My Dearest Darcey,</p>
                <p>
                    One year later and everything has changed. From our first almost-date at the
                    Botanical Garden to our adventures across Costa Rica, Texas, and every boba tea in between.
                </p>
                <p>
                    This little world we built is my favorite place to be. Every photo here is a memory
                    I cherish, a moment where I felt lucky to be yours.
                </p>
                <p>
                    Thank you for being my adventure partner, my prom date, my Bluebonnet, and my love.
                </p>
                <p class="signature">
                    â€” Fred<br>
                    29/01/2026
                </p>
            </div>
        </div>
    </div>

    <!-- Lightbox -->
    <div id="lightbox" class="hidden">
        <span class="close-lightbox">&times;</span>
        <img id="lightbox-img" src="" alt="Full size memory">
        <div class="lightbox-nav">
            <button id="prev-btn" onclick="prevImage(event)">&#10094;</button>
            <button id="next-btn" onclick="nextImage(event)">&#10095;</button>
        </div>
    </div>

</body>

</html>